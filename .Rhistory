complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
rm=(list=ls())
rm=(list=ls())
rm(list = ls(all = TRUE))
source(pollutantmean.R)
getwd()
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
getwd()
source(pollutantmean.R)
ls()
list()
list.files()
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
source('~/data/R/coursera/programming_with_R/ass1/complete.R', echo=TRUE)
source("complete.R")
getwd()
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
source("pollutantmean.R")
rm(list = ls(all = TRUE))
list.files()
setwd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
getwd()
list.files()
rm(list = ls(all = TRUE))
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
complete <- function(directory, id = 1:332 ){
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
n <- length(id)
dfrm <- data.frame(id=character(n), nobs=numeric(n))
for (i in id) {
ni <- sprintf("%03d", i)
temp <- read.csv(paste(ni,".csv", sep=""))
l <- match(i, id)
dfrm$id[l] <- i
counts <- is.na(temp$sulfate)
countn <- is.na(temp$nitrate)
dfrm$nobs[l] <- sum(as.numeric(!counts)*as.numeric(!countn))
}
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
return(dfrm)
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata")
list <- complete()
list <- complete(directory)
directory <- specdata
directory <- "specdata"
list <- complete(directory)
list
valid <- numeric(length(list))
length(list)
valid <- numeric(length(list[1]))
valid <- numeric(length(list[[1]]))
valid <- numeric(length(list[[1]]))
if (dfrm$nobs>threshold) {
valid <- 1
} else {
valid <- 0
}
dfrm <- list
rm(list)
if (dfrm$nobs>threshold) {
valid <- 1
} else {
valid <- 0
}
threshold=0
threshold <- 110
if (dfrm$nobs>threshold) {
valid <- 1
} else {
valid <- 0
}
if (dfrm[[nobs]]>threshold) {
valid <- 1
} else {
valid <- 0
}
dfrm <- cbind(dfrm, valid)
if (dfrm[[nobs]]>threshold) {
valid <- 1
} else {
valid <- 0
}
if (dfrm[[nobs]]>threshold) {
valid <- 1
} else {
valid <- 0
}
if (dfrm$nobs>threshold) {
dfrm$valid <- 1
} else {
dfrm$valid <- 0
}
if (dfrm[[nobs]]>threshold) {
dfrm$[[valid]] <- 1
} else {
dfrm$[[valid]] <- 0
}
dfrm[[nobs]]
dfrm[nobs]
names(dfrm)
dfrm$nobs
dfrm$nobs>threshold
dfrm$valid
valid <- numeric(length(list[[1]]))
valid <- numeric(length(dfrm[[1]]))
dfrm <- cbind(dfrm, valid)
if (dfrm$nobs>threshold) {
dfrm$valid <- 1
} else {
dfrm$valid <- 0
}
if (dfrm[[nobs]]>threshold) {
dfrm[[valid]] <- 1
} else {
dfrm[[valid]] <- 0
}
dfrm[[nobs]]>threshold
dfrm$nobs>threshold
dfrm$valid
ifelse (dfrm$nobs>threshold,dfrm$valid <- 1,dfrm$valid <- 0)
dfrm
rm(list = ls(all = TRUE))
dfrm <- complete(directory)
getwd()
source("complete.R")
dfrm <- complete(directory)
directory <- specdata
directory <- "specdata"
dfrm <- complete(directory)
valid <- numeric(length(dfrm[[1]]))
dfrm <- cbind(dfrm, valid)
ifelse (dfrm$nobs>threshold,dfrm$valid <- 1,dfrm$valid <- 0)
threshold <- 100
ifelse (dfrm$nobs>threshold,dfrm$valid <- 1,dfrm$valid <- 0)
dfrm
valid <- ifelse (dfrm$nobs>threshold,dfrm$valid <- 1,dfrm$valid <- 0)
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
dfrm
use <- subset(dfrm, select=id), subset(dfrm$valid=1))
use <- subset(dfrm, select=id, subset(dfrm$valid=1))
use <- subset(dfrm, select=id, subset=(dfrm$valid=1))
dfrm$valid=1
dfrm$valid=1
names(dfrm)
dfrm[1:10]
dfrm[, rows=10]
dfrm[nrow=10]
dfrm
dfrm[3]
rm(dfrm[3])
rm(dfrm[[3]]
rm(dfrm[[3]])
rm(dfrm$valid)
rm("dfrm$valid")
rm(dfrm[valid])
rm(dfrm)
dfrm <- complete(directory)
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
dfrm
use <- subset(dfrm, select=id, subset=(dfrm$valid=1))
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use
corrvect <- c(NA)
for (i in use){
print(i)
}
?corr
?cor
cordfrm <- c(NA)
cordfrm <- c(sulfate=NA, nitrate=NA)
cordfrm
cornitr <- c(NA)
rm(cordfrm)
names(sulfate)
names(temp)
temp <- read.csv("002.csv")
names(temp)
corsulf <- c(corsulf, temp$sulfate)
corsulf <- c(NA)
cornitr <- c(NA)
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
for (i in use){
ni <- sprintf("%03d", i)
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
use <- as.numeric(subset(dfrm, select=id, subset=(dfrm$valid>0)))
for (i in use){
ni <- sprintf("%03d", as,numeric(i)
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
for (i in use){
ni <- sprintf("%03d", as.numeric(i)
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
use
as.numeric(use[4])
as.numeric(use[[4]])
as.numeric(use)
class(use)
class(use[1])
class(use[[1])
class(use[[1]])
as.numeric(use[[1]])
use <- as.numeric[[1]]
use <- as.numeric(use[[1]])
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- cbind(corsulf, cornitr)
final <- data.frame(cbind(corsulf, cornitr))
corr(corsulf, cornitr, na.rm=TRUE, use="everything")
cor(corsulf, cornitr, na.rm=TRUE, use="everything")
cor(corsulf, cornitr, use="everything")
cor(final$corsulf, final$cornitr, use="everything")
final
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
complete <- function(directory, threshold=0){
source("complete.R")
dfrm <- complete(directory)
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corsulf <- c(NA)
cornitr <- c(NA)
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- data.frame(cbind(corsulf, cornitr))
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
}
rm(list=ls(all=TRUE)))
rm(list = ls(all = TRUE))
complete <- function(directory, threshold=0){
source("complete.R")
dfrm <- complete(directory)
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corsulf <- c(NA)
cornitr <- c(NA)
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- data.frame(cbind(corsulf, cornitr))
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold=0){
source("complete.R")
dfrm <- complete(directory)
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corsulf <- c(NA)
cornitr <- c(NA)
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- data.frame(cbind(corsulf, cornitr))
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
}
rm(list = ls(all = TRUE))
corr <- function(directory, threshold=0){
source("complete.R")
dfrm <- complete(directory)
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corsulf <- c(NA)
cornitr <- c(NA)
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- data.frame(cbind(corsulf, cornitr))
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
}
cr <- corr("specdata", 150)
getwd()
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(wd)
directory <- specdata
directory <- "specdata"
source("complete.R")
dfrm <- complete(directory)
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
threshold <- 150
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
dfrm
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corsulf <- c(NA)
cornitr <- c(NA)
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
corsulf <- c(corsulf, temp$sulfate)
cornitr <- c(cornitr, temp$nitrate)
}
final <- data.frame(cbind(corsulf, cornitr))
cor(final$corsulf, final$cornitr, use="pairwise.complete.obs")
?corr
corvect <- numeric(length(use))
names(temp)
l <- match(i, id)
l <- match(i, use)
l
cor(temp$sulfate, final$nitrate, use="pairwise.complete.obs")
temp$sulfate
cor(temp$sulfate, final$nitrate, use="pairwise.complete.obs")
cor(x=temp$sulfate, y=final$nitrate, use="pairwise.complete.obs")
cor(temp$sulfate, na.rm=TRUE, final$nitrate, use="pairwise.complete.obs")
cor(temp$sulfate, final$nitrate, na.rm=TRUE, use="pairwise.complete.obs")
cor(temp$sulfate, final$nitrate, na.rm=TRUE)
cor(temp$sulfate, final$nitrate, na.rm=TRUE)
cor(temp$sulfate, final$nitrate, use="pairwise.complete.obs")
cor(temp$sulfate, final$nitrate, is.na=TRUE, use="everything")
cor(temp$sulfate, final$nitrate,  use="everything")
temp$sulfate
cor(temp$sulfate, temp$nitrate,  use="everything")
cor(temp$sulfate, temp$nitrate, is.na=TRUE,  use="everything")
cor(temp$sulfate, temp$nitrate, use="pairwise.complete.obs")
cor(temp$sulfate, temp$nitrate, use="complete.obs")
cor(temp$sulfate, temp$nitrate, use="na.or.complete")
corr <- function(directory, threshold=0){
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(wd)
source("complete.R")
dfrm <- complete(directory)
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corvect <- numeric(length(use))
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
l <- match(i, use)
corvect[l] <- cor(temp$sulfate, temp$nitrate, use="na.or.complete")
}
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
return(corvect)
}
cr <- corr("specdata", 150)
rm(list = ls(all = TRUE))
corr <- function(directory, threshold=0){
wd <- "/Users/newaesthetic/data/R/coursera/programming_with_R/ass1"
setwd(wd)
source("complete.R")
dfrm <- complete(directory)
setwd(paste(wd, directory, sep="/"))
valid <- numeric(length(dfrm[[1]]))
valid <- ifelse (dfrm$nobs>threshold,valid <- 1,valid <- 0)
dfrm <- cbind(dfrm, valid)
use <- subset(dfrm, select=id, subset=(dfrm$valid>0))
use <- as.numeric(use[[1]])
corvect <- numeric(length(use))
for (i in use){
ni <- sprintf("%03d", as.numeric(i))
temp <- read.csv(paste(ni,".csv", sep=""))
l <- match(i, use)
corvect[l] <- cor(temp$sulfate, temp$nitrate, use="na.or.complete")
}
setwd("/Users/newaesthetic/data/R/coursera/programming_with_R/ass1")
return(corvect)
}
cr <- corr("specdata", 150)
cr
summary(cr)
cr <- corr("specdata", 150)
header(cr)
cr <- corr("specdata", 400)
header(cr)
cr <- corr("specdata", 5000)
header(cr)
cr <- corr("specdata")
header(cr)
cr <- corr("specdata", 150)
head(cr)
cr <- corr("specdata", 400)
head(cr)
cr <- corr("specdata", 5000)
head(cr)
cr <- corr("specdata")
head(cr)
summary(cr)
source("corr.R")
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
getwd()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
2
2
5
submit()
Selection:3
3
submit()
submit()
submit()
submit()
submit()
submit()
submit()
submit()
cube <- function(x, n) {
x^3
}
cube(3)
x <- 1:10
if(x > 5) {
x <- 0
}
f <- function(x) {
g <- function(y) {
y + z
}
z <- 4
x + g(x)
}
z <- 10
f(3)
x <- 5
y <- if(x < 3) {
NA
} else {
10
}
y
